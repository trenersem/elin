"use strict";(()=>{var e={};e.id=475,e.ids=[475],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3702:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>g,patchFetch:()=>_,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var r={};n.r(r),n.d(r,{POST:()=>u});var o=n(9303),i=n(8716),a=n(670),s=n(2854),p=n(3119);let u=async e=>{let{service_id:t,appointment_date:n,appointment_time:r,notes:o,status:i,first_name:a,last_name:u,email:l,phone_number:c}=await e.json();try{await (0,p.P)();let e=new s.Z({first_name:a,last_name:u,email:l,phone_number:c,service_id:t,appointment_date:n,appointment_time:r,notes:o,status:i});return await e.save(),new Response(JSON.stringify(e),{status:201})}catch(e){return console.error(e),new Response("Failed to create appointment",{status:500})}},l=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/appointments/new/route",pathname:"/api/appointments/new",filename:"route",bundlePath:"app/api/appointments/new/route"},resolvedPagePath:"/Users/User/Desktop/BestTime/ellinclick/app/api/appointments/new/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:m}=l,g="/api/appointments/new/route";function _(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},2854:(e,t,n)=>{var r;n.d(t,{Z:()=>p}),function(e){e.CLASSIC="classic",e.TWO_D="2D",e.THREE_D="3D",e.FOUR_D="4D",e.CORRECTION="correction",e.HYBRID="hybrid",e.NATURAL="natural",e.LIGHT_VOLUME="light_volume",e.VOLUME="volume",e.MEGA_VOLUME="mega_volume",e.LASHES_REMOVAL="lashes_removal",e.EXPRESS_LASHES="express_lashes",e.BOTTOM_LASHES="bottom_lashes",e.BROW_SHAPING="brow_shaping",e.BROW_TINTING="brow_tinting",e.BROW_LAMINATION="brow_lamination"}(r||(r={}));let{Schema:o,models:i,model:a}=n(1185),s=new o({first_name:{type:String,required:!0},last_name:{type:String,required:!0},email:{type:String,required:!0,unique:!1},phone_number:{type:String,required:!0},service_id:{type:String,enum:r,required:!0},appointment_date:{type:String,required:!0},appointment_time:{type:String,required:!0},status:{type:String,enum:["scheduled","completed","canceled"],required:!0},notes:{type:String}}),p=i.Appointment||a("Appointment",s)},9303:(e,t,n)=>{e.exports=n(517)},3119:(e,t,n)=>{n.d(t,{P:()=>s});var r=n(1185),o=n.n(r);let i=!1,a=process.env.MONGODB_URL??"",s=async()=>{if(o().set("strictQuery",!0),i){console.log("MongoDB is already connected");return}try{await o().connect(a,{dbName:"ellin"}),i=!0,console.log("MongoDB is connected")}catch(e){console.error("Error connecting to MongoDB:",e)}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[948],()=>n(3702));module.exports=r})();