(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{7845:function(e,t,n){Promise.resolve().then(n.bind(n,2928))},2928:function(e,t,n){"use strict";n.d(t,{BookForm:function(){return E}});var a=n(7437),r=n(2265),l=n(7135),i=n(3102),s=n(8646),o=n(7934),c=n(5282),u=n(6804),d=n(4924);function p(){let e=(0,s._)(["\n            radial-gradient(\n              "," circle at ","px ","px,\n              var(--blue-500),\n              transparent 80%\n            )\n          "]);return p=function(){return e},e}let x=r.forwardRef((e,t)=>{let{className:n,options:l,...i}=e,[s,x]=r.useState(!1),m=(0,c.c)(0),f=(0,c.c)(0);return(0,a.jsx)(u.E.div,{style:{background:(0,d.Y)(p(),s?"100px":"0px",m,f)},onMouseMove:function(e){let{currentTarget:t,clientX:n,clientY:a}=e,{left:r,top:l}=t.getBoundingClientRect();m.set(n-r),f.set(a-l)},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"p-[2px] rounded-lg transition duration-300 group/select",children:(0,a.jsx)("select",{className:(0,o.cn)("flex h-10 w-full border-none bg-gray-50 dark:bg-zinc-800 text-black dark:text-white shadow-input rounded-md px-3 py-2 text-sm\n             placeholder:text-neutral-400 dark:placeholder-text-neutral-600\n             focus-visible:outline-none focus-visible:ring-[2px] focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-600\n             disabled:cursor-not-allowed disabled:opacity-50\n             dark:shadow-[0px_0px_1px_1px_var(--neutral-700)]\n             group-hover/select:shadow-none transition duration-400",n),ref:t,...i,children:l.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})})});x.displayName="Select";var m=n(8648),f=n(9435),h=n(1638),_=n(7588),v=n(5106);let b=async e=>{let t=await fetch("/api/appointments/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create appointment");return t.json()};var g=n(7589),w=n(6549),S=n(1030);let y=[{icon:g.Z,label:"Instagram"},{icon:w.Z,label:"Call me"},{icon:S.Z,label:"Email"}];var j=()=>(0,a.jsx)("div",{className:"flex flex-col space-y-4",children:y.map((e,t)=>(0,a.jsxs)("button",{className:"relative group/btn flex space-x-2 items-center justify-start px-4 w-full text-black rounded-md h-10 font-medium shadow-input bg-gray-50 dark:bg-zinc-900 dark:shadow-[0px_0px_1px_1px_var(--neutral-800)]",type:"submit",children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 text-neutral-800 dark:text-neutral-300"}),(0,a.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300 text-sm",children:e.label}),(0,a.jsx)(f.R,{})]},t))}),N=n(7810);let E=()=>{let{bookService:e}=(0,N.x)(),[t,n]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[g,w]=(0,r.useState)(null!=e?e:m.U.CLASSIC),[S,y]=(0,r.useState)(""),[E,k]=(0,r.useState)("scheduled"),[U,O]=(0,r.useState)(""),[A,L]=(0,r.useState)(""),{timeSlot:R}=(0,v.z)(S,g),M=async e=>{e.preventDefault();try{console.log(t,s,c,d,g,S,A,E,U);let e=await b({first_name:t,last_name:s,email:c,phone_number:d,service_id:g,appointment_date:S,appointment_time:A,status:E,notes:U});e&&(console.log("Appointment created successfully",e.data),n(""),o(""),u(""),p(""),w(m.U.CLASSIC),y(""),k("scheduled"),O(""))}catch(e){console.error("Failed to create appointment:",e)}},I=e=>{L(e)},T=Object.values(m.U).map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}));return(0,a.jsxs)("div",{className:"max-w-md w-full mx-auto rounded-none md:rounded-2xl p-4 md:p-8 shadow-input bg-white dark:bg-black",children:[(0,a.jsx)("h2",{className:"font-bold text-xl text-neutral-800 dark:text-neutral-200",children:"Welcome to Aceternity"}),(0,a.jsx)("p",{className:"text-neutral-600 text-sm max-w-sm mt-2 dark:text-neutral-300",children:"Login to aceternity if you can because we"}),(0,a.jsxs)("form",{className:"my-8",onSubmit:M,children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2 mb-4",children:[(0,a.jsxs)(_.A,{children:[(0,a.jsx)(l._,{htmlFor:"firstname",children:"First name"}),(0,a.jsx)(i.I,{id:"firstname",placeholder:"Tyler",type:"text",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,a.jsxs)(_.A,{children:[(0,a.jsx)(l._,{htmlFor:"lastname",children:"Last name"}),(0,a.jsx)(i.I,{id:"lastname",placeholder:"Durden",type:"text",value:s,onChange:e=>o(e.target.value),required:!0})]})]}),(0,a.jsxs)(_.A,{className:"mb-4",children:[(0,a.jsx)(l._,{htmlFor:"email",children:"Email Address"}),(0,a.jsx)(i.I,{id:"email",placeholder:"projectmayhem@fc.com",type:"email",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,a.jsxs)(_.A,{className:"mb-4",children:[(0,a.jsx)(l._,{htmlFor:"text",children:"Phone"}),(0,a.jsx)(i.I,{id:"phone",placeholder:"+1...",type:"text",value:d,onChange:e=>p(e.target.value),required:!0})]}),(0,a.jsxs)(_.A,{className:"mb-4",children:[(0,a.jsx)(l._,{htmlFor:"text",children:"Service"}),(0,a.jsx)(x,{options:T,value:g,onChange:e=>w(e.target.value),required:!0})]}),(0,a.jsxs)(_.A,{className:"mb-4",children:[(0,a.jsx)(l._,{htmlFor:"text",children:"Time"}),(0,a.jsx)(i.I,{id:"date",placeholder:"+1...",type:"date",value:S,onChange:e=>{y(e.target.value)}})]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-start gap-y-2 gap-x-4",children:S&&R.map(e=>(0,a.jsx)(h.Z,{time:e,selectedTime:!!A&&A===e,handleTimeSelect:I},e))}),(0,a.jsxs)("button",{className:"bg-gradient-to-br relative group/btn from-black dark:from-zinc-900 dark:to-zinc-900 to-neutral-600 block dark:bg-zinc-800 w-full text-white rounded-md h-10 font-medium shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:shadow-[0px_1px_0px_0px_var(--zinc-800)_inset,0px_-1px_0px_0px_var(--zinc-800)_inset]",type:"submit",children:["Make an appointment",(0,a.jsx)(f.R,{})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-transparent via-neutral-300 dark:via-neutral-700 to-transparent my-8 h-[1px] w-full"}),(0,a.jsx)(j,{})]})]})}},9154:function(e,t,n){"use strict";n.d(t,{BookProvider:function(){return i},m:function(){return l}});var a=n(7437),r=n(2265);let l=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[n,i]=(0,r.useState)(null);return(0,a.jsx)(l.Provider,{value:{bookService:n,handleSelectService:e=>{i(e)}},children:t})}},9435:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var a=n(7437);let r=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"group-hover/btn:opacity-100 block transition duration-500 opacity-0 absolute h-px w-full -bottom-px inset-x-0 bg-gradient-to-r from-transparent via-cyan-500 to-transparent"}),(0,a.jsx)("span",{className:"group-hover/btn:opacity-100 blur-sm block transition duration-500 opacity-0 absolute h-px w-1/2 mx-auto -bottom-px inset-x-10 bg-gradient-to-r from-transparent via-indigo-500 to-transparent"})]})},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var a=n(8646),r=n(7437),l=n(2265),i=n(7934),s=n(5282),o=n(6804),c=n(4924);function u(){let e=(0,a._)(["\n        radial-gradient(\n          "," circle at ","px ","px,\n          var(--blue-500),\n          transparent 80%\n        )\n      "]);return u=function(){return e},e}let d=l.forwardRef((e,t)=>{let{className:n,type:a,...d}=e,[p,x]=l.useState(!1),m=(0,s.c)(0),f=(0,s.c)(0);return(0,r.jsx)(o.E.div,{style:{background:(0,c.Y)(u(),p?"100px":"0px",m,f)},onMouseMove:function(e){let{currentTarget:t,clientX:n,clientY:a}=e,{left:r,top:l}=t.getBoundingClientRect();m.set(n-r),f.set(a-l)},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"p-[2px] rounded-lg transition duration-300 group/input",children:(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full border-none bg-gray-50 dark:bg-zinc-800 text-black dark:text-white shadow-input rounded-md px-3 py-2 text-sm  file:border-0 file:bg-transparent \n          file:text-sm file:font-medium placeholder:text-neutral-400 dark:placeholder-text-neutral-600 \n          focus-visible:outline-none focus-visible:ring-[2px]  focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-600\n           disabled:cursor-not-allowed disabled:opacity-50\n           dark:shadow-[0px_0px_1px_1px_var(--neutral-700)]\n           group-hover/input:shadow-none transition duration-400\n           ",n),ref:t,...d})})});d.displayName="Input"},7135:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var a=n(7437),r=n(2265),l=n(6657),i=n(7934);let s=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,i.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...r})});s.displayName=l.f.displayName},7588:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var a=n(7437),r=n(7934);let l=e=>{let{children:t,className:n}=e;return(0,a.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-2 w-full",n),children:t})}},1638:function(e,t,n){"use strict";var a=n(7437),r=n(9435);n(2265),t.Z=e=>{let{time:t,handleTimeSelect:n,selectedTime:l}=e;return(0,a.jsx)("div",{className:"mb-4 w-max",onClick:()=>n(t),children:(0,a.jsxs)("div",{className:"cursor-pointer flex justify-center items-center px-2 text-xs bg-gradient-to-br relative group/btn from-black dark:from-zinc-900 dark:to-zinc-900 to-neutral-600 dark:bg-zinc-800 w-full text-white rounded-md h-10 font-medium shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:shadow-[0px_1px_0px_0px_var(--zinc-800)_inset,0px_-1px_0px_0px_var(--zinc-800)_inset ".concat(l?"text-purple border-purple border-[1px] border-solid":""),children:[t,(0,a.jsx)(r.R,{})]})})}},5106:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var a=n(573);let r=async e=>{let t=await fetch("/api/appointments/".concat(e.date),{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch appointments");return t.json()},l=()=>{let e=[],t=e=>e<10?"0".concat(e):e.toString();for(let n=10;n<=12;n++)e.push({time:"".concat(t(n),":00 AM")}),e.push({time:"".concat(t(n),":30 AM")});for(let n=1;n<=6;n++)e.push({time:"".concat(t(n),":00 PM")}),e.push({time:"".concat(t(n),":30 PM")});return e};var i=n(6565),s=n(2265);let o=(e,t)=>{let[n,o]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),d=l().map(e=>e.time);return(0,s.useEffect)(()=>{e&&(async()=>{try{let n=await r({date:e}),[l]=await (0,a.a)(e),s=t?Math.floor(i.v[t]/30):0;n.map((t,n)=>{let a=i.v[t.service_id]/30,r=t.appointment_date,l=t.appointment_time;if(d.includes(t.appointment_time)&&e===r){let e=0,t=0;d.indexOf(l)-s>=0?e=d.indexOf(l)-s:t=d.indexOf(l)-s;let n=Math.floor(a)+Math.abs(s)+t;u(d.slice(e+1,e+1+n)),d.splice(e+1,n)}}),(null==l?void 0:l.blocked_time.length)?o(d.filter(e=>!l.blocked_time.includes(e))):o(d)}catch(e){console.error("Failed to fetch appointments:",e)}})()},[e,t]),{timeSlot:n,allTimes:d,alreadyReservedTime:c}}},7810:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var a=n(9154),r=n(2265);let l=()=>{let e=(0,r.useContext)(a.m);if(void 0===e)throw Error("error with BookServiceContext");return e}},573:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});let a=async e=>{let t=await fetch("/api/availability/".concat(e),{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch appointments");return t.json()}},8648:function(e,t,n){"use strict";var a,r;n.d(t,{U:function(){return a}}),(r=a||(a={})).CLASSIC="classic",r.TWO_D="2D",r.THREE_D="3D",r.FOUR_D="4D",r.CORRECTION="correction",r.HYBRID="hybrid",r.NATURAL="natural",r.LIGHT_VOLUME="light_volume",r.VOLUME="volume",r.MEGA_VOLUME="mega_volume",r.LASHES_REMOVAL="lashes_removal",r.EXPRESS_LASHES="express_lashes",r.BOTTOM_LASHES="bottom_lashes",r.BROW_SHAPING="brow_shaping",r.BROW_TINTING="brow_tinting",r.BROW_LAMINATION="brow_lamination"},7934:function(e,t,n){"use strict";n.d(t,{cn:function(){return l}});var a=n(4839),r=n(6164);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}},6565:function(e,t,n){"use strict";n.d(t,{B:function(){return l},v:function(){return r}});var a=n(8648);let r={[a.U.CLASSIC]:180,[a.U.TWO_D]:150,[a.U.THREE_D]:120,[a.U.FOUR_D]:90,[a.U.CORRECTION]:45,[a.U.HYBRID]:160,[a.U.NATURAL]:140,[a.U.LIGHT_VOLUME]:130,[a.U.VOLUME]:110,[a.U.MEGA_VOLUME]:100,[a.U.LASHES_REMOVAL]:30,[a.U.EXPRESS_LASHES]:60,[a.U.BOTTOM_LASHES]:45,[a.U.BROW_SHAPING]:30,[a.U.BROW_TINTING]:45,[a.U.BROW_LAMINATION]:60},l={[a.U.CLASSIC]:"Classic",[a.U.TWO_D]:"Hybrid (1-2D)",[a.U.THREE_D]:"Natural (2D)",[a.U.FOUR_D]:"Light volume (3D)",[a.U.CORRECTION]:"Volume (4-5D)",[a.U.HYBRID]:"Hybrid (1-2D)",[a.U.NATURAL]:"Natural (2D)",[a.U.LIGHT_VOLUME]:"Light volume (3D)",[a.U.VOLUME]:"Volume (4-5D)",[a.U.MEGA_VOLUME]:"Mega volume (6D+)",[a.U.LASHES_REMOVAL]:"Lashes removal",[a.U.EXPRESS_LASHES]:"Express lashes",[a.U.BOTTOM_LASHES]:"Bottom lashes",[a.U.BROW_SHAPING]:"Brow Shaping",[a.U.BROW_TINTING]:"Brow Tinting",[a.U.BROW_LAMINATION]:"Brow Lamination"}}},function(e){e.O(0,[206,621,971,23,744],function(){return e(e.s=7845)}),_N_E=e.O()}]);